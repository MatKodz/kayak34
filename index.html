<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Kayak34</title>
</head>
<body>
    <nav>
        <div class="nav-wrapper">
            <img src="logo.png" alt="logo kayak34">
            <div class="menu-wrapper" id="menu-main">
                <ul class="menu">
                    <li><a href="">Réserver</a></li>
                    <li><a href="">Nous trouver</a></li>
                    <li><a href="">Contactez nous</a></li>
                </ul>
                <div class="phone">
                    <img src="icons/phone.png" alt="">
                </div>
                <ul class="menu-lang">
                    <li><a href="/fr">FR</a></li>
                    <li><a href="/en">EN</a></li>
                </ul>
            </div>
            <div id="burger">
                <svg viewBox="0 0 80 40" width="30" height="30">
                    <rect x="0" y="0" width="80" height="10" rx="8"></rect>
                    <rect y="20" width="80" height="10" rx="8"></rect>
                    <rect y="40" width="80" height="10" rx="8"></rect>
                  </svg>
            </div>
           </div>
    </nav>
   <header>
       <div class="entete-image">
           <img src="images/kayak-sete.jpg" alt="">
       </div>
       <div class="entete-infos">
           <div class="entete-titre">
               <h2 class="entete">Vivez une expérience unique</h2>
           </div>
           <div class="entete-reservation-parcours">
               <a href="#" class="btn btn-reserver" id="resa">Réserver votre équipement</a>
               <a href="#" class="btn btn-parcours">Découvrir les parcours</a>
            </div>
       </div>
       <div id="app-resa"></div>
   </header>
   <div class="separator"></div>
   <main>
       <section class="infos my-big">
        <div class="infos-niveau">
            <h3>Débutant</h3>
            <h3>Confirmé</h3>
            <h3>Tous niveaux</h3>
        </div>
        <div class="infos-details">
            <ul>
                <li>Nouveaux Kayaks <img alt="" src="icons/icon_new.png"></li>
                <li class="infos-ouverture"><div><span>Lu > Di</span><span>9h-20h</span></div><img alt="" src="icons/icon-time.png"></li>
                <li>Expérience garantie <img alt="" src="icons/icon_check.png"></li>
            </ul>
        </div>
        <div class="infos-weather">
            <div class="weather-forecast">
                <img src="icons/sun.svg" alt="">
                    <div>
                        <span>25°C</span>
                        <span>Ciel dégagé</span>
                    </div>
                </div>
            <div class="weather-sea">
                <img src="icons/sea.svg" alt="">
                <div>
                <span>19°C</span>
                <span>Mer calme</span>
                </div>
                </div>
        </div>
       </section>
       <section class="equipements my-big">
           <h2>Nos équipements</h2>
           <div class="equipements-wrapper">
            <article>
                <div class="icon"><img src="icons/kayak.svg" alt=""></div>
                <div class="libelle">
                    <h4>Kayak simple</h4>
                    A partir de 10€
                    Ideal pour découvrir
                </div>
            </article>
            <article>
                <div class="icon"><img src="icons/double.svg" alt=""></div>
                <div class="libelle">
                    <h4>Kayak double</h4>
                    A partir de 15€
                    Ideal pour découvrir à 2
                </div>
            </article>
            <article>
                <div class="icon"><img src="icons/paddle.svg" alt=""></div>
                <div class="libelle">
                    <h4>Paddle</h4>
                    A partir de 12€
                    Ideal pour le gainage
                </div>
            </article>
            <article>
                    <img src="images/trio.png">
            </article>
           </div>
       </section>
       <section class="parcours my-big">
           <h2>Nos parcours</h2>
           <div class="parcours-items">
            <article>
                <img src="images/seakayaking.jpeg" alt="">
                <div class="parcours-detail">
                 <h5>Parcours Mer</h5>
                 <p>4h - Lorem ipsum</p>
                 <a href="">+</a>
             </div>
            </article>
            <article>
                <img src="images/standup-paddle-group.jpeg" alt="">
                <div class="parcours-detail">
                 <h5>Parcours All</h5>
                 <p>3h - Lorem Ipsum</p>
                 <a href="">+</a>
                </div>
            </article>
            <div class="reportages">
                <article>
                    <span class="icon-camera"><img src="icons/icon_camera.png" alt=""></span>
                    <img src="images/canoe-sur-les-canaux-de-palavas-les-flots-kayak-sur-les-canaux-de-palavas-les-flots-olivier-octobre-palavas-kayak-de-mer-19-1160x653.jpg" alt="">
                    <h3>Dernières sorties</h3>
                </article>
             </div>
           </div>
       </section>
       <section class="inscription">
         <h2>Inscription</h2>
           <form action="">
               <div><label>Email : </label><input type="mail"></div>
               <div><label>Code postal : </label><input type="number" id="cp"></div>
               <div>
                 <label>Choisir la ville</label>
                   <select name="" id="ville">
                   <option value="">Choisir</option>
               </select>
             </div>
           </form>
       </section>
   </main>
   <footer>
        <div class="footer-infos">
            <div class="row location">
                <div>
                    <img src="icons/location.svg" alt="" class="icon-location">
                 <span>Palavas</span>
             </div>
             <div>
               <img src="icons/location.svg" alt="" class="icon-location">
             <span>Carnon</span>
             </div>
             </div>
         <div class="row">
             <div class="newsletter">
                 <input type="text" name="" id="" placeholder="enter your email">
                 <input type="button" value="S'inscrire">
                </div>
                <div>
                 <img src="images/logo_ffk.png" alt="logo ffk">
                </div>

         </div>

         <div class="row">
             <ul>
                <li>Contact</li>
                <li>Mentions légales</li>
                <li>Politique de confidentialité</li>
            </ul>
            <ul>
             <li>Questions / réponses</li>
             <li>La société</li>
             <li>Conseils et guides</li>
         </ul>
         </div>
        </div>
        <div class="footer-illustration">
            <img src="images/balade-paddle-afterwork-degustation-de-muscat-tikicenter-1-1160x564.jpg" alt="">
        </div>
   </footer>

   <script src="disponibilite/dist/src.a2b27638.js"></script>

   <script>

       let resaApp = document.getElementById("app-resa");
       resaApp.style.display = "none";
       document.getElementById("resa").addEventListener('click', function () {
           resaApp.style.display = "flex";
       })

       let burgerOpen = false;

       let burgerBtn = document.getElementById('burger')
       let menuMain = document.getElementById('menu-main')

       burgerBtn.addEventListener("click" , function() {
            if (burgerOpen) {
                menuMain.style.right = "-100vw"
                setTimeout(function() {
                menuMain.style.display = "none";
                for (const elt of burgerBtn.firstElementChild.children) {
                  elt.style = ""
                }
                },500)
                burgerOpen = !burgerOpen
                return
            }
            menuMain.style.display = "block";
            setTimeout(function() {
            menuMain.style.right = 0;
            burgerBtn.firstElementChild.children[0].style = "transform-origin: 0 5px; transform: rotate(45deg)";
            burgerBtn.firstElementChild.children[1].style = "display: none";
            burgerBtn.firstElementChild.children[2].style="transform-origin: 36px 36px; transform: rotate(135deg)";
            },100)

            burgerOpen = !burgerOpen
       })

       // appel d'une API asynchrone
       let inputCodePostal = document.getElementById("cp");
       let inputVilles = document.getElementById("ville");
       // fonction permettant d'afficher la liste des communes dans une liste déroulante
       function towns(villes) {
           if(!villes)
           return alert('no response')
           let options = '<option value="-1"> Choisir un lieu </option>';
           villes.forEach((elt,i) => {
              let selected = (villes.length == 1) ? "selected" : "";
               options += `<option value="${elt.nomCommune}" ${selected}>${elt.nomCommune}</option>`
            })
            inputVilles.innerHTML = options
       }
        // appliquer un gestionnaire d'evt sur le champ de formulaire qui se déclenche à la perte du focus + appel fetch
       inputCodePostal.addEventListener("blur", function(e) {
           if(e.target.value.length == 5)
           {
            let url = "https://apicarto.ign.fr/api/codes-postaux/communes/"
               fetch(url + e.target.value)
               .then(response => {
                   console.log(response.status)
                   if(response.status !== 200)
                   return
                   else return response.json()
                })
               .then(data => towns(data) )
           }
           else e.target.style.border = "2px solid red"
       })
   </script>
 </body>
</html>
